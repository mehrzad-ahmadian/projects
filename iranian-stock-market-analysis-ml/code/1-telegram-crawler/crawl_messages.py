# for searching for full word
import re

import json
from datetime import datetime
from datetime import date

# disabling python warnings
import warnings

from telethon import TelegramClient
from telethon.errors import SessionPasswordNeededError

# mysql
import mysql.connector
from mysql.connector import Error

# ignore warnings
warnings.filterwarnings("ignore")



# set hyperparameters inorder to connect to telegram
api_id = 
api_hash = ''
phone = ''
username = ''

messageCount = 160
today = date.today()

channels = [
    'https://t.me/Codal360_ir',
    'https://t.me/asiasarmayeh',
    'https://t.me/NoavaranAmin',
    'https://t.me/ChanelVIP20',
    'https://t.me/grouprezabourse',
    'https://t.me/signalle_bartare_bours',
    'https://t.me/sahamyab',
    'https://t.me/topsignalexchange',
    'https://t.me/vipmosbat5',
]



# dictionary of all stocks namads
namads = {
    '18719101': 'اوراق مشاركت ايران  خودرو',
    'آبادا': 'توليد نيروي برق آبادان',
    'آپ': 'آسان پرداخت پرشين',
    'آسيا': 'بيمه آسيا',
    'آكنتور': 'كنتورسازي ايران',
    'آكنتورح': 'ح . كنتورسازي ايران',
    'آلومينا': 'آلوميناي ايران',
    'اپال': 'فرآوري معدني اپال كاني پارس',
    'اتكام': 'بيمه اتكايي امين',
    'اتكامح': 'ح . بيمه اتكايي امين',
    'اجداد': 'مرغ اجداد زربال',
    'اخابر': 'مخابرات ايران',
    'اخابرح': 'ح . مخابرات ايران',
    'اردستان': 'سيمان اردستان',
    'اروند': 'پتروشيمي اروند',
    'اسياتك': 'انتقال داده هاي آسياتك',
    'افق': 'فروشگاههاي زنجيره اي افق كوروش',
    'افقح': 'ح .فروشگاه زنجيره اي افق كوروش',
    'اكالا': 'كارگزاران بورس كالاي ايران',
    'اكتيو': 'پديده شيمي قرن',
    'البرز': 'بيمه البرز',
    'البرزح': 'ح.بيمه البرز',
    'اميد': 'تامين سرمايه اميد',
    'اميدح': 'ح . تامين سرمايه اميد',
    'امين': 'تامين سرمايه امين',
    'امينح': 'ح . تامين سرمايه امين',
    'انرژي1': 'نهادهاي مالي بورس انرژي',
    'انرژي2': 'فعالان بورس انرژي',
    'انرژي3': 'سايراشخاص بورس انرژي',
    'باختر': 'كابل  باختر',
    'باخترح': 'ح . كابل  باختر',
    'بالبر': 'كابل  البرز',
    'بالبرح': 'ح . كابل  البرز',
    'بايكا': 'كابلسازي ايران',
    'بايكاح': 'ح . كابلسازي ايران',
    'بترانس': 'ايران  ترانسفو',
    'بترانسح': 'ح . ايران  ترانسفو',
    'بتك': 'كابلسازي  تك',
    'بتكح': 'ح . كابلسازي  تك',
    'بجهرم': 'توسعه مولد نيروگاهي جهرم',
    'برانسفو': 'ترانسفورماتور توزيع زنگان',
    'بركت': 'گروه دارويي بركت',
    'بركتح': 'ح . گروه دارويي بركت',
    'بسويچ': 'پارس سويچ',
    'بسويچح': 'ح . پارس سويچ',
    'بشهاب': 'لامپ  پارس  شهاب',
    'بشهابح': 'ح . لامپ  پارس  شهاب',
    'بفجر': 'فجر انرژي خليج فارس',
    'بكاب': 'صنايع جوشكاب يزد',
    'بكابح': 'ح . صنايع جوشكاب يزد',
    'بكام': 'كارخانجات توليدي شهيد قندي',
    'بكامح': 'ح.كارخانجات توليدي شهيد قندي',
    'بموتو': 'موتوژن',
    'بموتوح': 'ح . موتوژن',
    'بنيرو': 'نيروترانس',
    'بنيروح': 'ح . نيروترانس',
    'بورس': 'بورس اوراق بهادار تهران',
    'بوعلي': 'پتروشيمي بوعلي سينا',
    'پارتا': 'مجتمع صنعتي آرتاويل تاير',
    'پارتاح': 'ح . مجتمع صنعتي آرتاويل تاير',
    'پارس': 'پتروشيمي پارس',
    'پارسان': 'گسترش نفت و گاز پارسيان',
    'پارسانح': 'ح. گسترش نفت و گاز پارسيان',
    'پارسيان': 'بيمه پارسيان',
    'پارسيانح': 'ح.بيمه پارسيان',
    'پاسا': 'ايران ياساتايرورابر',
    'پاساح': 'ح . ايران ياساتايرورابر',
    'پاكشو': 'گروه صنعتي پاكشو',
    'پاكشوح': 'ح . گروه صنعتي پاكشو',
    'پتاير': 'ايران  تاير',
    'پتايرح': 'ح . ايران  تاير',
    'پترول': 'گ.س.وت.ص.پتروشيمي خليج فارس',
    'پترولح': 'ح . گروه پتروشيمي س. ايرانيان',
    'پخش اول': 'گلپخش اول',
    'پدرخش': 'درخشان  تهران',
    'پدرخشح': 'ح . درخشان  تهران',
    'پدنا': 'توليدي لاستيك دنا',
    'پدناح': 'ح . توليدي لاستيك دنا',
    'پرداخت': 'به پرداخت ملت',
    'پرداختح': 'ح . به پرداخت ملت',
    'پرديس': 'سرمايه گذاري پرديس',
    'پرشيا': 'توسعه صنعت نفت و گاز پرشيا',
    'پسهند': 'صنايع  لاستيكي  سهند',
    'پسهندح': 'ح . صنايع  لاستيكي  سهند',
    'پشاهن': 'پلاستيك  شاهين',
    'پشاهنح': 'ح . پلاستيك  شاهين',
    'پكرمان': 'گروه  صنعتي  بارز',
    'پكرمانح': 'ح . گروه  صنعتي  بارز',
    'پكوير': 'كوير تاير',
    'پكويرح': 'ح. كوير تاير',
    'پكيان': 'لاستيك البرز',
    'پكيانح': 'ح . لاستيك البرز',
    'پلاست': 'پلاستيران',
    'پلاستح': 'ح . پلاستيران',
    'پلاسك': 'پلاسكوكار',
    'پلاسكح': 'ح . پلاسكوكار',
    'پلوله': 'گازلوله',
    'پلولهح': 'ح . گازلوله',
    'پيزد': 'مجتمع صنايع لاستيك يزد',
    'تاپيكو': 'س. نفت و گاز و پتروشيمي تأمين',
    'تاپيكوح': 'ح . س.نفت وگازوپتروشيمي تأمين',
    'تاصيكو': 'سرمايه گذاري صدرتامين',
    'تاصيكوح': 'ح . سرمايه گذاري صدرتامين',
    'تايرا': 'تراكتورسازي ايران',
    'تايراح': 'ح . تراكتورسازي ايران',
    'تپكو': 'توليدتجهيزات سنگين هپكو',
    'تپكوح': 'ح . توليدتجهيزات سنگين هپكو',
    'تپمپي': 'پمپ  سازي  ايران',
    'تپمپيح': 'ح . پمپ  سازي  ايران',
    'تدبير': 'گروه سرمايه گذاري تدبير',
    'تراك': 'ماشين آلات صنعتي تراكتورسازي',
    'تراكح': 'ح.ماشين آلات صنعتي تراكتورسازي',
    'تفيرو': 'فيروزا',
    'تفيروح': 'ح . فيروزا',
    'تكالا': 'توليدكنندگان بورس كالاي ايران',
    'تكشا': 'گسترش صنايع وخدمات كشاورزي',
    'تكشاح': 'ح . صنايع وخدمات كشاورزي',
    'تكمبا': 'كمباين  سازي  ايران',
    'تكمباح': 'ح . كمباين  سازي  ايران',
    'تكنو': 'تكنوتار',
    'تكنوح': 'ح . تكنوتار',
    'تمحركه': 'ماشين سازي نيرومحركه',
    'تمحركهح': 'ح . ماشين سازي نيرومحركه',
    'تمدن': 'تامين سرمايه تمدن',
    'تملت': 'تامين سرمايه بانك ملت',
    'تنوين': 'تامين سرمايه نوين',
    'تنوينح': 'ح . تامين سرمايه نوين',
    'تيپيكو': 'سرمايه گذاري دارويي تامين',
    'تيپيكوح': 'ح . سرمايه گذاري دارويي تامين',
    'ثاباد': 'توريستي ورفاهي آبادگران ايران',
    'ثابادح': 'ح .  توريستي ورفاهي آبادگران',
    'ثاخت': 'بين المللي توسعه ساختمان',
    'ثاختح': 'ح . بين المللي توسعه ساختمان',
    'ثاژن': 'سخت  آژند',
    'ثاژنح': 'ح . سخت  آژند',
    'ثاصفا': 'ساختمان  اصفهان',
    'ثاصفاح': 'ح .   ساختمان  اصفهان',
    'ثامان': 'سامان  گستراصفهان',
    'ثامانح': 'ح . سامان  گستراصفهان',
    'ثاميد': 'توسعه و عمران اميد',
    'ثبهساز': 'بهساز كاشانه تهران',
    'ثشاهد': 'سرمايه  گذاري  شاهد',
    'ثشاهدح': 'ح . سرمايه  گذاري  شاهد',
    'ثشرق': 'سرمايه گذاري مسكن شمال شرق',
    'ثشرقح': 'ح. سرمايه گذاري مسكن شمال شرق',
    'ثفارس': 'عمران وتوسعه فارس',
    'ثفارسح': 'ح . عمران وتوسعه فارس',
    'ثمسكن': 'سرمايه گذاري  مسكن',
    'ثمسكنح': 'ح . سرمايه گذاري  مسكن',
    'ثملي': 'بين المللي ساختمان و صنعت ملي',
    'ثنوسا': 'نوسازي وساختمان تهران',
    'ثنوساح': 'ح . نوسازي وساختمان تهران',
    'جم': 'پتروشيمي جم',
    'جم پيلن': 'پلي پروپيلن جم - جم پيلن',
    'جمح': 'ح . پتروشيمي جم',
    'چافست': 'افست',
    'چافستح': 'ح . افست',
    'چبسپا': 'بسته  بندي  پارس',
    'چبسپاح': 'ح . بسته  بندي  پارس',
    'چدن': 'توليدي چدن سازان',
    'چفيبر': 'فيبر ايران',
    'چفيبرح': 'ح . فيبر ايران',
    'چكاپا': 'گروه صنايع كاغذ پارس',
    'چكارم': 'كارتن  مشهد',
    'چكارمح': 'ح . كارتن  مشهد',
    'چكارن': 'كارتن  ايران',
    'چكارنح': 'ح . كارتن  ايران',
    'چكاوه': 'صنايع كاغذسازي كاوه',
    'چكاوهح': 'ح . صنايع كاغذسازي كاوه',
    'چنوپا': 'نيوپان  22 بهمن',
    'چنوپاح': 'ح . نيوپان  22 بهمن',
    'حامي1401': 'اختيارف ت حامي-1401/02/31',
    'حپترو': 'حمل و نقل پتروشيمي( سهامي عام',
    'حپتروح': 'ح . حمل و نقل پتروشيمي',
    'حتايد': 'تايدواترخاورميانه',
    'حتايدح': 'ح . تايدواترخاورميانه',
    'حتوكا': 'حمل ونقل توكا',
    'حتوكاح': 'ح . حمل ونقل توكا',
    'حفارس': 'حمل و نقل بين المللي خليج فارس',
    'حفاري': 'حفاري شمال',
    'حفاريح': 'ح . حفاري شمال',
    'حفجر': 'كشتيراني والفجر',
    'حكشتي': 'كشتيراني جمهوري اسلامي ايران',
    'حكشتيح': 'ح . كشتيراني ج. ا. ا',
    'خاذين': 'سايپاآذين',
    'خاذينح': 'ح . سايپاآذين',
    'خاهن': 'آهنگري  تراكتورسازي  ايران',
    'خاهنح': 'ح . آهنگري تراكتورسازي  ايران',
    'خاور': 'ايران  خودروديزل',
    'خاورح': 'ح . ايران  خودروديزل',
    'خبهمن': 'گروه بهمن',
    'خبهمنح': 'ح . گروه بهمن',
    'خپارس': 'پارس  خودرو',
    'خپارسح': 'ح . پارس  خودرو',
    'خپويش': 'سازه  پويش',
    'خپويشح': 'ح . سازه  پويش',
    'ختراك': 'ريخته گري  تراكتورسازي  ايران',
    'ختراكح': 'ح . ريخته گري  تراكتورسازي',
    'ختور': 'رادياتور ايران',
    'ختورح': 'ح . رادياتور ايران',
    'ختوقا': 'قطعات  اتومبيل  ايران',
    'ختوقاح': 'ح . قطعات  اتومبيل  ايران',
    'خچرخش': 'چرخشگر',
    'خچرخشح': 'ح . چرخشگر',
    'خراسان': 'پتروشيمي خراسان',
    'خريخت': 'صنايع ريخته گري ايران',
    'خريختح': 'ح . صنايع ريخته گري ايران',
    'خرينگ': 'رينگ سازي مشهد',
    'خرينگح': 'ح . رينگ سازي مشهد',
    'خزاميا': 'زامياد',
    'خزامياح': 'ح . زامياد',
    'خزر': 'فنرسازي زر',
    'خزرح': 'ح . فنرسازي زر',
    'خساپا': 'سايپا',
    'خساپاح': 'ح . سايپا',
    'خشرق': 'الكتريك  خودرو شرق',
    'خشرقح': 'ح . الكتريك  خودرو شرق',
    'خصدرا': 'حذف-صنعتي  دريايي  ايران',
    'خصدراح': 'حذف-ح . صنعتي  دريايي  ايران',
    'خفنر': 'فنرسازي خاور',
    'خفنرح': 'ح . فنرسازي خاور',
    'خكار': 'ايركا پارت صنعت',
    'خكارح': 'ح.ايركا پارت صنعت',
    'خكاوه': 'سايپا ديزل',
    'خكاوهح': 'ح . سايپا ديزل',
    'خكمك': 'كمك فنرايندامين',
    'خكمكح': 'ح . كمك فنرايندامين',
    'خگستر': 'گسترش سرمايه گذاري ايران خودرو',
    'خگسترح': 'ح . سرمايه گذاري ايران خودرو',
    'خلنت': 'لنت  ترمزايران',
    'خلنتح': 'ح . لنت  ترمزايران',
    'خمحركه': 'نيرو محركه',
    'خمحركهح': 'ح . نيرو محركه',
    'خمحور': 'توليدمحورخودرو',
    'خمحورح': 'ح . توليدمحورخودرو',
    'خمهر': 'مهركام پارس',
    'خمهرح': 'ح . مهركام پارس',
    'خموتور': 'موتورسازان تراكتورسازي ايران',
    'خنصير': 'مهندسي نصيرماشين',
    'خنصيرح': 'ح . مهندسي نصيرماشين',
    'خودرو': 'ايران  خودرو',
    'خودروح': 'ح . ايران  خودرو',
    'خوساز': 'محورسازان ايران خودرو',
    'خوسازح': 'ح . محورسازان ايران خودرو',
    'دابور': 'داروسازي  ابوريحان',
    'دابورح': 'ح . داروسازي  ابوريحان',
    'دارو': 'كارخانجات داروپخش',
    'داروح': 'ح . كارخانجات داروپخش',
    'داسوه': 'داروسازي  اسوه',
    'داسوهح': 'ح . داروسازي  اسوه',
    'دالبر': 'البرزدارو',
    'دالبرح': 'ح . البرزدارو',
    'دامين': 'داروسازي  امين',
    'دامينح': 'ح . داروسازي  امين',
    'دانا': 'بيمه دانا',
    'داناح': 'ح . بيمه دانا',
    'دپارس': 'پارس  دارو',
    'دپارسح': 'ح . پارس  دارو',
    'دتماد': 'توليدمواداوليه داروپخش',
    'دتمادح': 'ح . توليدمواداوليه داروپخش',
    'دتهران': 'داروسازي  تهران  دارو',
    'دتهرانح': 'ح . داروسازي  تهران  دارو',
    'دجابر': 'داروسازي  جابرابن حيان',
    'دجابرح': 'ح . داروسازي  جابرابن حيان',
    'ددام': 'داروسازي زاگرس فارمد پارس',
    'ددامح': 'ح . داروسازي زاگرس فارمد پارس',
    'درازك': 'دارويي  رازك',
    'درازكح': 'ح . دارويي  رازك',
    'دروز': 'داروسازي  روزدارو',
    'دروزح': 'ح . داروسازي  روزدارو',
    'دزهراوي': 'داروسازي زهراوي',
    'دزهراويح': 'ح .  داروسازي زهراوي',
    'دسبحا': 'گروه دارويي سبحان',
    'دسبحاح': 'ح .گروه دارويي سبحان',
    'دسبحان': 'سبحان دارو',
    'دسبحانح': 'ح. سبحان دارو',
    'دسينا': 'داروسازي  سينا',
    'دسيناح': 'ح . داروسازي  سينا',
    'دشيمي': 'شيمي  داروئي  داروپخش',
    'دشيميح': 'ح . شيمي  داروئي  داروپخش',
    'دعبيد': 'لابراتوارداروسازي  دكترعبيدي',
    'دعبيدح': 'ح . داروسازي  دكترعبيدي',
    'دفارا': 'داروسازي  فارابي',
    'دفاراح': 'ح . داروسازي  فارابي',
    'دفرا': 'فرآورده هاي  تزريقي  ايران',
    'دفراح': 'ح . فرآورده هاي  تزريقي',
    'دكوثر': 'داروسازي  كوثر',
    'دكوثرح': 'ح . داروسازي  كوثر',
    'دكيمي': 'كيميدارو',
    'دكيميح': 'ح . كيميدارو',
    'دلر': 'داروسازي  اكسير',
    'دلرح': 'ح . داروسازي  اكسير',
    'دلقما': 'دارويي  لقمان',
    'دلقماح': 'ح . دارويي  لقمان',
    'ديران': 'ايران دارو',
    'ديرانح': 'ح .  ايران دارو',
    'ديسشپ': 'ديس شپ',
    'ذوب': 'ذوب آهن اصفهان',
    'رانفور': 'خدمات انفورماتيك',
    'رانفورح': 'ح . خدمات انفورماتيك',
    'رتاپ': 'تجارت الكترونيك پارسيان',
    'رتاپح': 'ح.تجارت الكترونيك پارسيان',
    'رتكو': 'كنترل خوردگي تكين كو',
    'رتكوح': 'ح . كنترل خوردگي تكين كو',
    'ركيش': 'كارت اعتباري ايران كيش',
    'ركيشح': 'ح. كارت اعتباري ايران كيش',
    'رمپنا': 'گروه مپنا (سهامي عام)',
    'رمپناح': 'ح. گروه مپنا (سهامي عام)',
    'زپارس': 'ملي كشت و صنعت و دامپروري پارس',
    'زرنام': 'گروه ص. پژوهشي فرهيختگان زرنام',
    'زكوثر': 'سرمايه گذاري كشاورزي كوثر',
    'زمگسا': 'كشاورزي  ودامپروي  مگسال',
    'زمگساح': 'ح . كشاورزي  ودامپروي  مگسال',
    'سآبيك': 'سيمان آبيك',
    'ساذري': 'آذريت',
    'ساذريح': 'ح . آذريت',
    'ساراب': 'سيمان  داراب',
    'سارابح': 'ح . سيمان  داراب',
    'ساربيل': 'سيمان آرتا اردبيل',
    'ساربيلح': 'ح . سيمان آرتا اردبيل',
    'ساروم': 'سيمان اروميه',
    'سارومح': 'ح . سيمان اروميه',
    'ساوه': 'سيمان سفيدساوه',
    'سايرا': 'ايرانيت',
    'سايراح': 'ح . ايرانيت',
    'سبجنو': 'سيمان  بجنورد',
    'سبجنوح': 'ح . سيمان  بجنورد',
    'سبهان': 'سيمان  بهبهان',
    'سبهانح': 'ح . سيمان  بهبهان',
    'سپ': 'پرداخت الكترونيك سامان كيش',
    'سپاها': 'سيمان سپاهان',
    'سپاهاح': 'ح . سيمان سپاهان',
    'سپح': 'ح . پرداخت الكترونيك سامان كيش',
    'سپرمي': 'پرميت',
    'سپيد': 'سپيد ماكيان',
    'ستران': 'سيمان  تهران',
    'سترانح': 'ح . سيمان  تهران',
    'سخاش': 'سيمان خاش',
    'سخاشح': 'ح . سيمان خاش',
    'سخزر': 'سيمان  خزر',
    'سخزرح': 'ح . سيمان  خزر',
    'سخوز': 'سيمان خوزستان',
    'سخوزح': 'ح . سيمان خوزستان',
    'سدشت': 'صنايع سيمان دشتستان',
    'سدشتح': 'ح .صنايع سيمان دشتستان',
    'سدور': 'سيمان  دورود',
    'سدورح': 'ح . سيمان  دورود',
    'سرود': 'سيمان شاهرود',
    'سرودح': 'ح . سيمان شاهرود',
    'سشرق': 'سيمان  شرق',
    'سشرقح': 'ح . سيمان  شرق',
    'سشمال': 'سيمان  شمال',
    'سشمالح': 'ح . سيمان  شمال',
    'سصفها': 'سيمان اصفهان',
    'سصفهاح': 'ح . سيمان اصفهان',
    'سصوفي': 'سيمان  صوفيان',
    'سصوفيح': 'ح . سيمان  صوفيان',
    'سغدير': 'توسعه سرمايه و صنعت غدير',
    'سغرب': 'سيمان غرب',
    'سغربح': 'ح . سيمان غرب',
    'سفار': 'سيمان فارس',
    'سفارح': 'ح . سيمان فارس',
    'سفارس': 'سيمان فارس و خوزستان',
    'سفارسح': 'ح . سيمان فارس و خوزستان',
    'سفارود': 'كارخانه فارسيت درود',
    'سفارودح': 'ح . كارخانه فارسيت درود',
    'سفاسيت': 'فارسيت  اهواز',
    'سفاسيتح': 'ح . فارسيت  اهواز',
    'سفانو': 'سيمان فارس نو',
    'سفانوح': 'ح . سيمان فارس نو',
    'سقاين': 'سيمان  قائن',
    'سقاينح': 'ح . سيمان  قائن',
    'سكارون': 'سيمان  كارون',
    'سكارونح': 'ح . سيمان  كارون',
    'سكرد': 'سيمان كردستان',
    'سكردح': 'ح . سيمان كردستان',
    'سكرما': 'سيمان  كرمان',
    'سكرماح': 'ح . سيمان  كرمان',
    'سمازن': 'سيمان مازندران',
    'سمازنح': 'ح . سيمان مازندران',
    'سنير': 'سيمان  سفيد ني ريز',
    'سهرمز': 'سيمان هرمزگان',
    'سهرمزح': 'ح . سيمان هرمزگان',
    'سهگمت': 'سيمان هگمتان',
    'سهگمتح': 'ح . سيمان هگمتان',
    'سيتا': 'سرمايه گذاري سيمان تامين',
    'سيدكو': 'سرمايه گذاري توسعه صنايع سيمان',
    'سيدكوح': 'ح . س. توسعه صنايع سيمان',
    'سيستم': 'همكاران سيستم',
    'سيلام': 'سيمان  ايلام',
    'سيلامح': 'ح . سيمان  ايلام',
    'سيمرغ': 'سيمرغ',
    'سينا': 'مالي و سرمايه گذاري سينا',
    'شاراك': 'پتروشيمي شازند',
    'شاراكح': 'ح . پتروشيمي شازند',
    'شاملا': 'معدني  املاح  ايران',
    'شاملاح': 'ح . معدني  املاح  ايران',
    'شبريز': 'پالايش نفت تبريز',
    'شبريزح': 'ح. پالايش نفت تبريز',
    'شبندر': 'پالايش نفت بندرعباس',
    'شبهرن': 'نفت  بهران',
    'شبهرنح': 'ح . نفت  بهران',
    'شپارس': 'بين  المللي  محصولات  پارس',
    'شپارسح': 'ح . بين  المللي محصولات پارس',
    'شپاكسا': 'پاكسان',
    'شپاكساح': 'ح . پاكسان',
    'شپترو': 'پتروشيمي  آبادان',
    'شپتروح': 'ح . پتروشيمي  آبادان',
    'شپديس': 'پتروشيمي پرديس',
    'شپديسح': 'ح. پتروشيمي پرديس',
    'شپلي': 'پلي اكريل',
    'شپليح': 'ح . پلي اكريل',
    'شپمچا': 'پارس  پامچال',
    'شپمچاح': 'ح . پارس  پامچال',
    'شپنا': 'پالايش نفت اصفهان',
    'شپناح': 'ح . پالايش نفت اصفهان',
    'شتران': 'پالايش نفت تهران',
    'شتهران': 'تهران  شيمي',
    'شتهرانح': 'ح . تهران  شيمي',
    'شتولي': 'تولي پرس',
    'شتوليح': 'ح . تولي پرس',
    'شجي': 'شركت نفت جي',
    'شخارك': 'پتروشيمي  خارك',
    'شخاركح': 'ح . پتروشيمي  خارك',
    'شدوص': 'دوده  صنعتي  پارس',
    'شدوصح': 'ح . دوده  صنعتي  پارس',
    'شرنگي': 'صنعتي  رنگين',
    'شرنگيح': 'ح . صنعتي  رنگين',
    'شزنگ': 'تجهيزنيروي زنگان',
    'شزنگح': 'ح . تجهيزنيروي زنگان',
    'شسپا': 'نفت سپاهان',
    'شستا': 'سرمايه گذاري تامين اجتماعي',
    'شسم': 'توليد سموم  علف  كش',
    'شسمح': 'ح . توليد سموم  علف  كش',
    'شسينا': 'صنايع شيميايي سينا',
    'شسيناح': 'ح . صنايع شيميايي سينا',
    'شصفها': 'پتروشيمي  اصفهان',
    'شصفهاح': 'ح . پتروشيمي  اصفهان',
    'شغدير': 'پتروشيمي غدير',
    'شفا': 'سرمايه گذاري شفادارو',
    'شفارا': 'پتروشيمي فارابي',
    'شفاراح': 'ح . پتروشيمي فارابي',
    'شفارس': 'صنايع  شيميايي  فارس',
    'شفارسح': 'ح . صنايع  شيميايي  فارس',
    'شفن': 'پتروشيمي فناوران',
    'شفنح': 'ح . پتروشيمي فناوران',
    'شكربن': 'كربن  ايران',
    'شكربنح': 'ح . كربن  ايران',
    'شكف': 'كف',
    'شكفح': 'ح . كف',
    'شكلر': 'نيروكلر',
    'شكلرح': 'ح . نيروكلر',
    'شگل': 'گلتاش',
    'شگلح': 'ح . گلتاش',
    'شلعاب': 'لعابيران',
    'شلعابح': 'ح . لعابيران',
    'شلوان': 'رنگ پارس الوان',
    'شمواد': 'توليدمواداوليه الياف مصنوعي',
    'شموادح': 'ح . مواداوليه الياف مصنوعي',
    'شنفت': 'نفت  پارس',
    'شنفتح': 'ح . نفت  پارس',
    'شوش': 'هنكل  پاك  وش',
    'شوشح': 'ح . هنكل  پاك  وش',
    'شوينده': 'مديريت صنعت شوينده ت.ص.بهشهر',
    'شيراز': 'پتروشيمي شيراز',
    'شيرازح': 'ح . پتروشيمي شيراز',
    'شيران': 'س. صنايع شيميايي ايران',
    'شيرانح': 'ح . س. صنايع شيميايي ايران',
    'غاذر': 'كشت وصنعت پياذر',
    'غاذرح': 'ح . كشت وصنعت پياذر',
    'غالبر': 'لبنيات  كالبر',
    'غالبرح': 'ح . لبنيات  كالبر',
    'غبشهر': 'صنعتي  بهشهر',
    'غبشهرح': 'ح . صنعتي  بهشهر',
    'غبهپاك': 'بهپاك',
    'غبهپاكح': 'ح . بهپاك',
    'غبهنوش': 'بهنوش  ايران',
    'غبهنوشح': 'ح . بهنوش  ايران',
    'غپاك': 'لبنيات  پاك',
    'غپاكح': 'ح . لبنيات  پاك',
    'غپينو': 'پارس  مينو',
    'غپينوح': 'ح . پارس  مينو',
    'غچين': 'كشت  و صنعت  چين  چين',
    'غچينح': 'ح . كشت  و صنعت  چين  چين',
    'غدام': 'خوراك  دام  پارس',
    'غدامح': 'ح . خوراك  دام  پارس',
    'غدشت': 'دشت  مرغاب',
    'غدشتح': 'ح . دشت  مرغاب',
    'غزر': 'صنعتي زر ماكارون',
    'غساسا': 'ساسان',
    'غساساح': 'ح . ساسان',
    'غسالم': 'سالمين',
    'غسالمح': 'ح .  سالمين',
    'غشاذر': 'پگاه آذربايجان غربي',
    'غشاذرح': 'ح .  پگاه آذربايجان غربي',
    'غشان': 'شيرپاستوريزه پگاه خراسان',
    'غشانح': 'ح . شيرپاستوريزه پگاه خراسان',
    'غشصفا': 'شيرپاستوريزه پگاه اصفهان',
    'غشصفاح': 'ح . شيرپاستوريزه پگاه اصفهان',
    'غشهد': 'شهد ايران ',
    'غشهدح': 'ح . شهد ايران',
    'غكورش': 'صنعت غذايي كورش',
    'غگرجي': 'بيسكويت  گرجي',
    'غگرجيح': 'ح . بيسكويت  گرجي',
    'غگل': 'گلوكوزان',
    'غگلح': 'ح . گلوكوزان',
    'غمارگ': 'مارگارين',
    'غمارگح': 'ح . مارگارين',
    'غمهرا': 'توليدي مهرام',
    'غمهراح': 'ح . توليدي مهرام',
    'غناب': 'روغن  نباتي  ناب',
    'غنابح': 'ح . روغن  نباتي  ناب',
    'غنوش': 'نوش  مازندران',
    'غنوشح': 'ح . نوش مازندران',
    'غيوان': 'كيوان',
    'غيوانح': 'ح . كيوان',
    'فاذر': 'صنايع  آذرآب',
    'فاذرح': 'ح . صنايع  آذرآب',
    'فاراك': 'ماشين  سازي  اراك',
    'فاراكح': 'ح . ماشين  سازي  اراك',
    'فارس': 'صنايع پتروشيمي خليج فارس',
    'فاسمين': 'كالسيمين',
    'فاسمينح': 'ح . كالسيمين',
    'فالوم': 'آلومتك',
    'فالومح': 'ح . آلومتك',
    'فاما': 'صنعتي  آما',
    'فاماح': 'ح . صنعتي  آما',
    'فاهواز': 'نوردولوله  اهواز',
    'فاهوازح': 'ح . نوردولوله  اهواز',
    'فايرا': 'آلومينيوم ايران',
    'فايراح': 'ح . آلومينيوم ايران',
    'فباهنر': 'مس  شهيدباهنر',
    'فباهنرح': 'ح . مس  شهيدباهنر',
    'فبستم': 'صنايع بسته بندي  مشهد',
    'فبستمح': 'ح . صنايع بسته بندي  مشهد',
    'فبيرا': 'بسته  بندي  ايران',
    'فبيراح': 'ح . بسته  بندي  ايران',
    'فپارس': 'آلومينيم  پارس',
    'فپارسح': 'ح . آلومينيم  پارس',
    'فپنتا': 'سپنتا',
    'فپنتاح': 'ح . سپنتا',
    'فجام': 'جام دارو',
    'فجامح': 'ح . جام دارو',
    'فجر': 'فولاد اميركبيركاشان',
    'فجرح': 'ح .فولاد امير كبير كاشان',
    'فجوش': 'جوش  و اكسيژن  ايران',
    'فجوشح': 'ح . جوش  و اكسيژن  ايران',
    'فخاس': 'فولاد خراسان',
    'فخاسح': 'ح . فولاد خراسان',
    'فخوز': 'فولاد خوزستان',
    'فخوزح': 'ح . فولاد خوزستان',
    'فرآور': 'فرآوري موادمعدني ايران',
    'فرآورح': 'ح . فرآوري موادمعدني ايران',
    'فروس': 'فروسيليس  ايران',
    'فروسح': 'ح . فروسيليس  ايران',
    'فروم': 'توليدفروموليبدن كرمان',
    'فرومح': 'ح . توليدفروموليبدن كرمان',
    'فساز': 'لوله سازي اهواز',
    'فسازان': 'غلتك سازان سپاهان',
    'فسازانح': 'ح . غلتك سازان سپاهان',
    'فسبزوار': 'پارس فولاد سبزوار',
    'فسپا': 'گروه صنعتي سپاهان',
    'فسپاح': 'ح . گروه صنعتي سپاهان',
    'فسديد': 'لوله و تجهيزات سديد',
    'فسديدح': 'ح . لوله و تجهيزات سديد',
    'فسرب': 'ملي  سرب وروي  ايران',
    'فسربح': 'ح . ملي  سرب وروي  ايران',
    'فسلير': 'سوليران',
    'فسليرح': 'ح . سوليران',
    'فلامي': 'لاميران',
    'فلاميح': 'ح . لاميران',
    'فلوله': 'لوله وماشين سازي ايران',
    'فلولهح': 'ح . لوله وماشين سازي ايران',
    'فمتال': 'پارس  متال',
    'فمتالح': 'ح . پارس  متال',
    'فمراد': 'آلومراد',
    'فمرادح': 'ح . آلومراد',
    'فملي': 'ملي  صنايع  مس  ايران',
    'فمليح': 'ح . ملي  صنايع  مس  ايران',
    'فنرژي': 'گسترش صنايع انرژي آذرآب',
    'فنرژيح': 'ح . گسترش صنايع انرژي آذرآب',
    'فنوال': 'نورد آلومينيوم',
    'فنوالح': 'ح . نورد آلومينيوم',
    'فنورد': 'نوردوقطعات  فولادي',
    'فنوردح': 'ح . نوردوقطعات  فولادي',
    'فوكا': 'فولادكاويان',
    'فوكاح': 'ح . فولادكاويان',
    'فولاد': 'فولاد مباركه اصفهان',
    'فولادح': 'ح . فولاد مباركه اصفهان',
    'فولاژ': 'فولاد آلياژي ايران',
    'فولاژح': 'ح.فولاد آلياژي ايران',
    'قپارس': 'قندپارس',
    'قپارسح': 'ح . قندپارس',
    'قپيرا': 'فرآورده هاي غدايي وقندپيرانشهر',
    'قپيراح': 'ح . قندپيرانشهر',
    'قثابت': 'قند ثابت  خراسان',
    'قثابتح': 'ح . قند ثابت  خراسان',
    'قجام': 'فرآوردههاي غذايي وقندتربت جام',
    'قجامح': 'ح .غذايي و قنتربت جام',
    'قرن': 'پديده شيمي قرن',
    'قرنح': 'ح . پديده شيمي قرن',
    'قزوين': 'كارخانجات  قند قزوين',
    'قزوينح': 'ح . كارخانجات  قند قزوين',
    'قستان': 'قند قهستان',
    'قستانح': 'ح . قند قهستان',
    'قستون': 'قند بيستون',
    'قستونح': 'ح . قند بيستون',
    'قشرين': 'قند شيرين  خراسان',
    'قشرينح': 'ح . قند شيرين  خراسان',
    'قشكر': 'شكرشاهرود',
    'قشكرح': 'ح .   شكرشاهرود',
    'قشهد': 'شهد',
    'قشهدح': 'ح . شهد',
    'قشير': 'قندشيروان  ،قوچان  وبجنورد',
    'قشيرح': 'ح . قندشيروان  ،قوچان  وبجنورد',
    'قصفها': 'قنداصفهان',
    'قصفهاح': 'ح . قنداصفهان',
    'قلرست': 'قند لرستان',
    'قلرستح': 'ح . قند لرستان',
    'قمرو': 'قند مرودشت',
    'قمروح': 'ح . قند مرودشت',
    'قنقش': 'قندنقش جهان',
    'قنقشح': 'ح . قندنقش جهان',
    'قنيشا': 'قند نيشابور',
    'قنيشاح': 'ح . قند نيشابور',
    'قهكمت': 'قندهكمتان',
    'قهكمتح': 'ح . قندهكمتان',
    'كابگن': 'آبگينه',
    'كابگنح': 'ح . آبگينه',
    'كاذر': 'فرآورده هاي نسوزآذر',
    'كاذرح': 'ح . فرآورده هاي نسوزآذر',
    'كاصفا': 'كاشي  اصفهان',
    'كاصفاح': 'ح . كاشي  اصفهان',
    'كالا': 'بورس كالاي ايران',
    'كاما': 'باما',
    'كاماح': 'ح . باما',
    'كاوه': 'فولاد كاوه جنوب كيش',
    'كاوهح': 'ح .فولاد كاوه جنوب كيش',
    'كايتا': 'ايتالران',
    'كايتاح': 'ح . ايتالران',
    'كايگچ': 'ايران  گچ',
    'كايگچح': 'ح . ايران  گچ',
    'كبافق': 'معادن  بافق',
    'كبافقح': 'ح . معادن  بافق',
    'كبورس': 'كارگزاران بورس اوراق بهادار',
    'كپارس': 'كاشي  پارس',
    'كپارسح': 'ح . كاشي  پارس',
    'كپشير': 'پشم شيشه ايران',
    'كپشيرح': 'ح . پشم شيشه ايران',
    'كترام': 'توليدي  كاشي  تكسرام',
    'كترامح': 'ح . توليدي  كاشي  تكسرام',
    'كچاد': 'معدني وصنعتي چادرملو',
    'كچادح': 'ح . معدني وصنعتي چادرملو',
    'كچيني': 'چيني  ايران',
    'كچينيح': 'ح . چيني  ايران',
    'كحافظ': 'كاشي  وسراميك  حافظ',
    'كحافظح': 'ح . كاشي  وسراميك  حافظ',
    'كخاك': 'صنايع خاك چيني ايران',
    'كخاكح': 'ح . صنايع خاك چيني ايران',
    'كدما': 'معدني  دماوند',
    'كدماح': 'ح . معدني  دماوند',
    'كرازي': 'كارخانجات توليدي شيشه رازي',
    'كرازيح': 'ح .  توليدي شيشه رازي',
    'كرماشا': 'صنايع پتروشيمي كرمانشاه',
    'كرماشاح': 'ح. صنايع پتروشيمي كرمانشاه',
    'كروي': 'توسعه  معادن  روي  ايران',
    'كرويح': 'ح . توسعه  معادن  روي  ايران',
    'كساپا': 'سايپاشيشه',
    'كساپاح': 'ح . سايپاشيشه',
    'كساوه': 'صنايع  كاشي  و سراميك  سينا',
    'كساوهح': 'ح . صنايع  كاشي  وسراميك  سينا',
    'كسرا': 'سراميك هاي صنعتي اردكان',
    'كسراح': 'ح . سراميك هاي صنعتي اردكان',
    'كسرام': 'پارس  سرام',
    'كسرامح': 'ح . پارس  سرام',
    'كسعدي': 'كاشي  سعدي',
    'كسعديح': 'ح . كاشي  سعدي',
    'كطبس': 'ذغال سنگ  نگين  ط بس',
    'كطبسح': 'ح . ذغال سنگ  نگين  ط بس',
    'كفپارس': 'فرآورده هاي  نسوز پارس',
    'كفپارسح': 'ح . فرآورده هاي  نسوز پارس',
    'كفرا': 'فراورده  هاي  نسوزايران',
    'كفراح': 'ح . فراورده  هاي  نسوزايران',
    'كقزوي': 'شيشه  قزوين',
    'كقزويح': 'ح . شيشه  قزوين',
    'كگاز': 'شيشه  و گاز',
    'كگل': 'معدني و صنعتي گل گهر',
    'كگلح': 'ح . معدني و صنعتي گل گهر',
    'كلوند': 'كاشي  الوند',
    'كلوندح': 'ح . كاشي  الوند',
    'كماسه': 'تامين  ماسه  ريخته گري',
    'كماسهح': 'ح . تامين  ماسه  ريخته گري',
    'كمنگنز': 'معادن منگنزايران',
    'كمنگنزح': 'ح . معادن منگنزايران',
    'كنور': 'توسعه معدني و صنعتي صبانور',
    'كنورح': 'ح توسعه معدني و صنعتي صبانور',
    'كنيلو': 'كاشي  نيلو',
    'كنيلوح': 'ح . كاشي  نيلو',
    'كهرام': 'توليدي گرانيت بهسرام',
    'كهرامح': 'ح . توليدي گرانيت بهسرام',
    'كهمدا': 'شيشه  همدان',
    'كهمداح': 'ح . شيشه  همدان',
    'كورز': 'ورزيران',
    'كورزح': 'ح . ورزيران',
    'كوير': 'توليدي فولاد سپيد فراب كوير',
    'كويرح': 'ح. توليدي فولاد سپيد فراب كوير',
    'كيانا': 'گروه مالي كيان',
    'لابسا': 'آبسال',
    'لابساح': 'ح . آبسال',
    'لازما': 'آزمايش',
    'لازماح': 'ح . آزمايش',
    'لبهمن': 'توليدي  بهمن',
    'لبهمنح': 'ح . توليدي  بهمن',
    'لبوتان': 'گروه صنعتي بوتان',
    'لبوتانح': 'ح . گروه صنعتي بوتان',
    'لپارس': 'پارس  الكتريك',
    'لپارسح': 'ح . پارس  الكتريك',
    'لپويا': 'ايران  پويا',
    'لپوياح': 'ح . ايران  پويا',
    'لپيام': 'كارخانجات  صنعتي  پيام',
    'لپيامح': 'ح . كارخانجات  صنعتي  پيام',
    'لجام': 'توليدي  جام  جهان  نما',
    'لجامح': 'ح . توليدي  جام  جهان  نما',
    'لخانه': 'لوازم  خانگي  پارس',
    'لخانهح': 'ح . لوازم  خانگي  پارس',
    'لخزر': 'پارس  خزر',
    'لخزرح': 'ح . پارس  خزر',
    'لسرما': 'سرما آفرين',
    'لسرماح': 'ح . سرما آفرين',
    'لكما': 'كارخانجات مخابراتي ايران',
    'لكماح': 'ح . كارخانجات مخابراتي ايران',
    'لمخابر': 'صنايع مخابراتي راه دورايران',
    'لمخابرح': 'ح .  مخابراتي راه دورايران',
    'لوتوس': 'تامين سرمايه لوتوس پارسيان',
    'لوتوسح': 'ح . تامين سرمايه لوتوس پارسيان',
    'ما': 'بيمه ما',
    'ماح': 'ح . بيمه ما',
    'مبين': 'مبين انرژي خليج فارس',
    'مدار': 'س. مديريت سرمايه مدار',
    'مداران': 'داده پردازي ايران',
    'مدارانح': 'ح . داده پردازي ايران',
    'مرقام': 'ايران ارقام',
    'مرقامح': 'ح . ايران ارقام',
    'ملت': 'بيمه ملت',
    'ملتح': 'ح. بيمه ملت',
    'ميدكو': 'توسعه معادن وص.معدني خاورميانه',
    'ميدكوح': 'ح.توسعه م وص.معدني خاورميانه',
    'نبروج': 'نساجي  بروجرد',
    'نبروجح': 'ح . نساجي  بروجرد',
    'نبورس': 'نهادهاي مالي بورس اوراق بهادار',
    'نتوس': 'پشم  بافي  توس',
    'نتوسح': 'ح . پشم  بافي  توس',
    'نكالا': 'نهادهاي مالي بورس كالاي ايران',
    'نمرينو': 'ايران  مرينوس',
    'نمرينوح': 'ح . ايران  مرينوس',
    'نوري': 'پتروشيمي نوري',
    'هاي وب': 'داده گسترعصرنوين-هاي وب',
    'همراه': 'شركت ارتباطات سيار ايران',
    'همراهح': 'ح . شركت ارتباطات سيار ايران',
    'وآذر': 'سرمايه گذاري توسعه آذربايجان',
    'وآذرح': 'ح .  توسعه آذربايجان',
    'وآردل': 'سرمايه گذاري كارآفرين (هلدينگ',
    'وآردلح': 'ح .  كارآفرين (هلدينگ',
    'واتي': 'سرمايه  گذاري  آتيه  دماوند',
    'واتيح': 'ح . سرمايه  گذاري آتيه  دماوند',
    'واعتبار': 'سرمايه گذاري اعتبار ايران',
    'واعتبارح': 'ح.سرمايه گذاري اعتبار ايران',
    'والبر': 'سرمايه  گذاري  البرز(هلدينگ',
    'والبرح': 'ح . سرمايه گذاري البرز(هلدينگ',
    'واميد': 'گروه مديريت سرمايه گذاري اميد',
    'واميدح': 'ح.گروه مديريت سرمايه گذار اميد',
    'وانصار': 'بانك انصار',
    'وانصارح': 'ح.بانك انصار',
    'وايران': 'ليزينگ ايرانيان',
    'وبانك': 'سرمايه گذاري گروه توسعه ملي',
    'وبانكح': 'ح. سرمايه گذاري گروه توسعه ملي',
    'وبشهر': 'توسعه  صنايع  بهشهر(هلدينگ',
    'وبشهرح': 'ح . صنايع  بهشهر(هلدينگ',
    'وبصادر': 'بانك صادرات ايران',
    'وبملت': 'بانك ملت',
    'وبملتح': 'ح . بانك ملت',
    'وبهمن': 'سرمايه گذاري بهمن',
    'وبهمنح': 'ح . سرمايه گذاري بهمن',
    'وبوعلي': 'سرمايه گذاري بوعلي',
    'وبوعليح': 'ح . سرمايه گذاري بوعلي',
    'وبيمه': 'سرمايه  گذاري  صنعت  بيمه',
    'وبيمهح': 'ح . سرمايه  گذاري  صنعت  بيمه',
    'وپارس': 'بانك پارسيان',
    'وپارسح': 'ح . بانك پارسيان',
    'وپاسار': 'بانك پاسارگاد',
    'وپاسارح': 'ح.بانك پاسارگاد',
    'وپترو': 'سرمايه گذاري صنايع پتروشيمي',
    'وپتروح': 'ح . سرمايه  گذاري  پتروشيمي',
    'وپخش': 'داروپخش  (هلدينگ',
    'وپخشح': 'ح . داروپخش  (هلدينگ',
    'وپست': 'پست بانك ايران',
    'وتجارت': 'بانك تجارت',
    'وتجارتح': 'ح . بانك تجارت',
    'وتوس': 'توسعه شهري توس گستر',
    'وتوسح': 'ح . توسعه شهري توس گستر',
    'وتوسم': 'سرمايه گذاري توسعه ملي',
    'وتوسمح': 'ح . سرمايه گذاري توسعه ملي',
    'وتوشه': 'سرمايه  گذاري  پارس  توشه',
    'وتوشهح': 'ح . سرمايه  گذاري  پارس  توشه',
    'وتوصا': 'گروه س توسعه صنعتي ايران',
    'وتوصاح': 'ح. سرمايه گذاري توسعه صنعتي',
    'وتوكا': 'سرمايه گذاري توكافولاد(هلدينگ',
    'وتوكاح': 'ح .  توكافولاد(هلدينگ',
    'وخارزم': 'سرمايه گذاري خوارزمي',
    'وخارزمح': 'ح.سرمايه گذاري خوارزمي',
    'وخاور': 'بانك خاورميانه',
    'وخاورح': 'ح . بانك خاورميانه',
    'ورنا': 'سرمايه گذاري  رنا(هلدينگ',
    'ورناح': 'ح . سرمايه گذاري  رنا(هلدينگ',
    'وساپا': 'سرمايه گذاري  سايپا',
    'وساپاح': 'ح . سرمايه گذاري  سايپا',
    'وساخت': 'سرمايه  گذاري  ساختمان ايران',
    'وساختح': 'ح . سرمايه  گذاري  ساختمان',
    'وساربيل': 'شركت س استان اردبيل',
    'وساشرقي': 'شركت س استان آذربايجان شرقي',
    'وساغربي': 'شركت س استان آذربايجان غربي',
    'وسبوشهر': 'شركت س استان بوشهر',
    'وسپه': 'سرمايه گذاري  سپه',
    'وسپهح': 'ح . سرمايه گذاري  سپه',
    'وسخراج': 'شركت س استان خراسان جنوبي',
    'وسخراش': 'شركت س استان خراسان شمالي',
    'وسخوز': 'شركت س استان خوزستان',
    'وسديد': 'گروه صنعتي سديد(هلدينگ',
    'وسديدح': 'ح . گروه صنعتي سديد(هلدينگ',
    'وسرضوي': 'س.سهام عدالت استان خراسان رضوي',
    'وسزنجان': 'شركت س استان زنجان',
    'وسصفا': 'شركت س استان اصفهان',
    'وسفارس': 'شركت س استان فارس',
    'وسقزوين': 'سرمايه گذاري عدالت استان قزوين',
    'وسقم': 'شركت س استان قم',
    'وسكاب': 'س.ص.بازنشستگي كاركنان بانكها',
    'وسكابح': 'ح.س.ص.بازنشستگي كاركنان بانكها',
    'وسكرد': 'شركت س استان كردستان',
    'وسكرشا': 'س.سهام عدالت استان كرمانشاه',
    'وسكرمان': 'س.سهام عدالت استان كرمان',
    'وسكهبو': 'س.عدالت ا. كهگيلويه وبويراحمد',
    'وسگلستا': 'شركت س استان گلستان',
    'وسگيلا': 'شركت س استان گيلان',
    'وسلرستا': 'شركت س استان لرستان',
    'وسمازن': 'س.سهام عدالت استان مازندران',
    'وسمحال': 'شركت س.استان چهارمحال وبختياري',
    'وسمركز': 'شركت س استان مركزي',
    'وسهرمز': 'شركت س استان هرمزگان',
    'وسهمدا': 'شركت س استان همدان',
    'وسيزد': 'شركت س استان يزد',
    'وسيستا': 'شركت س استان سيستان وبلوچستان',
    'وسيلام': 'شركت س استان ايلام',
    'وسينا': 'بانك سينا',
    'وسيناح': 'ح . بانك سينا',
    'وصنا': 'گروه صنايع بهشهرايران',
    'وصناح': 'ح .  گروه صنايع بهشهرايران',
    'وصندوق': 'سرمايه گذاري صندوق بازنشستگي',
    'وصندوقح': 'ح.سرمايه گذاري صندوق بازنشستگي',
    'وصنعت': 'سرمايه گذاري توسعه صنعت وتجارت',
    'وصنعتح': 'ح . سرمايه  گذاري صنعت  ومعدن',
    'وغدير': 'سرمايه گذاري غدير(هلدينگ',
    'وغديرح': 'ح . سرمايه گذاري غدير(هلدينگ',
    'وكار': 'بانك  كارآفرين',
    'وكارح': 'ح . بانك  كارآفرين',
    'وكغدير': 'بين المللي توسعه ص. معادن غدير',
    'وكغديرح': 'ح .بين المللي ت .ص. معادن غدير',
    'ولپارس': 'ليزينگ پارسيان',
    'ولساپا': 'ليزينگ رايان  سايپا',
    'ولساپاح': 'ح . ليزينگ رايان  سايپا',
    'ولصنم': 'ليزينگ صنعت ومعدن',
    'ولصنمح': 'ح . ليزينگ صنعت ومعدن',
    'ولغدر': 'ليزينگ خودروغدير',
    'ولغدرح': 'ح . ليزينگ خودروغدير',
    'ولكار': 'ليزينگ كارآفرين',
    'ولملت': 'واسپاري ملت',
    'ولملتح': 'ح . واسپاري ملت',
    'ولنوين': 'ليزينگ اقتصاد نوين',
    'وليز': 'ليزينگ ايران',
    'وليزح': 'ح . ليزينگ ايران',
    'ومدير': 'گ.مديريت ارزش سرمايه ص ب كشوري',
    'ومعادن': 'توسعه معادن وفلزات',
    'ومعادنح': 'ح . توسعه معادن وفلزات',
    'ومعين': 'سرمايه گذاري توسعه معين ملت',
    'وملت': 'سرمايه گذاري ملت',
    'وملتح': 'ح . سرمايه گذاري ملت',
    'وملي': 'گروه  صنعتي  ملي  (هلدينگ',
    'ومليح': 'ح . گروه  صنعتي  ملي  (هلدينگ',
    'ونفت': 'سرمايه گذاري  صنعت  نفت',
    'ونفتح': 'ح . سرمايه گذاري  صنعت  نفت',
    'ونوين': 'بانك اقتصادنوين',
    'ونوينح': 'ح . بانك اقتصادنوين',
    'ونيرو': 'سرمايه گذاري نيرو',
    'ونيروح': 'ح . سرمايه گذاري نيرو',
    'ونيكي': 'سرمايه گذاري  ملي ايران',
    'ونيكيح': 'ح . سرمايه گذاري  ملي ايران',
}











# create and authorize telegram client
client = TelegramClient(username, api_id, api_hash)
client.start()
print("Telegram Client Created")
# Ensure you're authorized
if not client.is_user_authorized():
    client.send_code_request(phone)
    try:
        client.sign_in(phone, input('Enter the code: '))
    except SessionPasswordNeededError:
        client.sign_in(password=input('Password: '))



print('Start crawling messages:')



records = []
totalMessages = 0

for channel in channels:
    i = 1

    # for message in client.iter_messages(channel, messageCount, offset_date = today):
    for message in client.iter_messages(channel, messageCount):
        i += 1

        # create record tuple
        record = ()

        # fill channel_name
        record += (channel,)

        # fill channel_id
        if message.peer_id:
            if message.peer_id.channel_id:
                record += (message.peer_id.channel_id,)
            else: record += (0,)
        else: record += (0,)

        # fill message_id
        if message.id:
            record += (message.id,)
        else:
            record += ('',)

        # fill reply_to_message_id
        if message.reply_to:
            if message.reply_to.reply_to_msg_id:
                record += (message.reply_to.reply_to_msg_id,)
            else: record += (0,)
        else: record += (0,)

        # fill message, found_namads, found_companies
        if message.message:
            totalMessages += 1
            record += (message.message,)

            # search for namads in message
            FoundNamads = []
            FoundCompanies = []
            for namad in namads:
                companyName = namads[namad]

                # search for full namad names in sentence
                if re.search(r"\b" + re.escape(namad) + r"\b", message.message):
                    FoundNamads.append(namad)
                    FoundCompanies.append(companyName)

            #print found namads in output file
            if len(FoundNamads) > 0:
                record += (json.dumps(FoundNamads),)
                record += (json.dumps(FoundCompanies),)
            else:
                record += ('',)
                record += ('',)
        else:
            record += ('',)
            record += ('',)
            record += ('',)

        # fill sentiment_label
        record += ('',)

        # fill signal_label
        record += ('',)

        # fill views
        if message.views and isinstance(message.views, int):
            record += (message.views,)
        else:
            record += (0,)

        # fill forwards
        if message.forwards and isinstance(message.forwards, int):
            record += (message.forwards,)
        else:
            record += (0,)

        # fill replies
        if message.replies and isinstance(message.replies, int):
            record += (message.replies,)
        else:
            record += (0,)

        # fill published_at
        # if message.date and message.date.datetime.datetime and message.date.datetime.datetime != 'None':
        if message.date:
            record += (message.date,)
            # record += (message.date.datetime.year,)
            # print(message.date)
            # print('\n')
            # print('\n')
        else:
            record += ('',)

        # fill created_at
        record += (datetime.now(),)

        record += (json.dumps(str(message)),)

        records.append(record)


print('Finished crawling ' + str(totalMessages) + ' messages.')


# conntect to database
try:
    connection = mysql.connector.connect(host='localhost',
                                         port='8889',
                                         database='stocks',
                                         user='root',
                                         password='root')
    if connection.is_connected():
        db_Info = connection.get_server_info()
        print("Connected to MySQL Server version ", db_Info)

        # insert messages
        #message_id, reply_to_message_id, channel_id, channel_name, message, views, forwards, replies, published_at, edited_at, created_at, params
        mySql_insert_query = """INSERT INTO messages (
            channel_name,
            channel_id,
            message_id,
            reply_to_message_id,
            message,
            found_namads,
            found_companies,
            sentiment_label,
            signal_label,
            views,
            forwards,
            replies,
            published_at,
            created_at,
            params
        )
                           VALUES
                           (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s) """

        cursor = connection.cursor()
        cursor.executemany(mySql_insert_query, records)
        connection.commit()
        print(cursor.rowcount, "Record inserted successfully into messages table")
        cursor.close()

except Error as e:
    print("Error while connecting to MySQL", e)
finally:
    if connection.is_connected():
        cursor.close()
        connection.close()
        print("MySQL connection is closed")





print('Messages have been successfully saved to database.')
